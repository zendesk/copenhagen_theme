import{r as e,u as t,j as s,b as n,M as r,a2 as a,s as i,a3 as o,a4 as l,a5 as u,a6 as c,a7 as d,a8 as h,B as p,X as j,y as m,v as f,C as b,A as g,E as x,N as v,n as q,a9 as S,aa as y,ab as w,ac as _,ad as C,ae as k,I as F,af as I,ag as z,ah as E,ai as $,q as T,R as D,U as O,V as R,Q as V,W as N,S as P,aj as M,ak as L,al as A,T as B,am as H,an as U,ao as X,ap as G,aq as Y,ar as W,as as Q,at as Z,Y as J,Z as K,_ as ee,a0 as te,a1 as se,au as ne}from"shared";function re(t,s,n){const[r,a]=e.useState(t);return e.useEffect((()=>{!function(){const e=new URLSearchParams(window.location.search),t=n(e);a((e=>({...e,...t})))}()}),[]),{params:r,push:function(e){const t={...r,...e},n=s(t);a((e=>({...e,...t}))),window.history.pushState({},"","?"+n.toString())}}}function ae({query:i,onSearchSubmit:o}){const{t:l}=t(),u=e.useRef(null);return s.jsx("form",{onSubmit:e=>{e.preventDefault(),null!==u.current&&o(u.current.value)},children:s.jsxs(n,{children:[s.jsx(n.Label,{hidden:!0,children:l("guide-requests-app.searchField.Label","Search")}),s.jsx(r,{start:s.jsx(a,{"aria-hidden":"true"}),ref:u,type:"search",defaultValue:i})]})})}const ie=i(o)`
  max-height: 100%;
  overflow-y: visible;
`,oe=i(l)`
  width: 200px;
`;function le({organizations:n,currentOrganizationId:r,onOrganizationSelected:a}){const{t:i}=t(),[o,l]=e.useState(""),p=n.find((e=>e.id===r));return s.jsxs(u,{inputValue:o,onInputValueChange:l,selectedItem:r,onSelect:e=>{a(e)},children:[s.jsxs(oe,{children:[s.jsx(c,{children:i("guide-requests-app.organization","Organization")}),s.jsx(d,{"data-test-id":"organizations-menu",children:p?.name})]}),s.jsx(ie,{placement:"bottom-start",children:n.filter((e=>e.name.trim().toLowerCase().includes(o.trim().toLowerCase()))).map((e=>s.jsx(h,{value:e.id,"data-test-id":`organization-${e.id}`,children:e.name},e.id)))})]})}const ue=20,ce=10,de=i(n)`
  padding-bottom: ${e=>e.theme.space.xs};
`,he=i(p)`
  padding-bottom: ${e=>e.theme.space.sm};
`,pe=i(j)`
  margin-bottom: ${e=>e.theme.space.sm};
`;function je(r){const{t:a}=t(),{organizations:i,user:o,onClose:l}=r,[u,c]=e.useState(ue),[d,h]=e.useState([]),[p,S]=e.useState(!1),y=m(),w=async()=>{const e=d.map((e=>({...e,isError:!1})));if(!e.some((e=>e.subscribed!==e.isChecked)))return void l();S(!0);const t=e.filter((e=>e.subscribed!==e.isChecked)).map((async e=>{let t;try{if(t=e.subscribed?await fetch(`/api/v2/organization_subscriptions/${e.subscriptionId}.json`,{method:"DELETE",headers:{"X-CSRF-Token":o.authenticity_token}}):await fetch("/api/v2/organization_subscriptions.json",{body:JSON.stringify({organization_subscription:{user_id:o.id,organization_id:e.organizationId}}),method:"POST",headers:{"X-CSRF-Token":o.authenticity_token,"Content-Type":"application/json"}}),!t.ok)throw Error(t.statusText);e.subscribed=!e.subscribed,e.isError=!1}catch(t){e.isError=!0}finally{e.isChecked=e.subscribed}}));await Promise.all(t),h(e),S(!1),e.some((e=>e.isError))||(q({type:"success",message:a("guide-requests-app.organizationSubscriptionUpdated","Organization subscription updated")}),l())};e.useEffect((()=>{(async(e,t)=>{let s=[],n=`/api/v2/users/${t}/organization_subscriptions.json?page[size]=100`,r=!0;for(;r;){const e=await fetch(n);if(!e.ok)throw new Error("Failed to fetch organization subscriptions");const{organization_subscriptions:t,meta:{has_more:a},links:{next:i}}=await e.json();r=a,n=i,s=s.concat(t)}const a={};s.forEach((e=>{a[`${e.organization_id}`]=e})),h(e.map((e=>({organizationId:e.id,name:e.name,subscriptionId:a[`${e.id}`]?.id,subscribed:void 0!==a[`${e.id}`],isError:!1,isChecked:void 0!==a[`${e.id}`]}))))})(i,o.id)}),[]);const _=()=>{h(d.map((e=>({...e,isError:!1}))))};return s.jsxs(f,{onClose:l,appendToNode:y,children:[s.jsx(f.Header,{children:a("guide-requests-app.followOrganization","Follow organization")}),s.jsxs(f.Body,{children:[s.jsx(he,{children:a("guide-requests-app.receiveEmailUpdatesOrganizationsTickets","Receive email updates about tickets within these organizations:")}),d.some((e=>e.isError))&&s.jsxs(pe,{type:"error",children:[s.jsx(j.Title,{children:a("guide-requests-app.organizationSubscriptionCouldNotBeSaved","Organization subscription could not be saved")}),a("guide-requests-app.giveItAMomentAndTryAgain","Give it a moment and try again"),s.jsx(f.Close,{"aria-label":"Close Alert",onClick:e=>{e.preventDefault(),_()}})]}),d.slice(0,u).map((e=>s.jsxs(de,{children:[s.jsx(b,{"data-test-id":`checkbox_${e.organizationId}`,checked:e.isChecked,onChange:()=>{return t=e.organizationId,void h(d.map((e=>e.organizationId===t?{...e,isChecked:!e.isChecked}:e)));var t},children:s.jsx(n.Label,{children:e.name})}),e.isError&&s.jsx(n.Message,{validation:"error",children:a("guide-requests-app.organizationSubscriptionCouldNotBeSaved","Organization subscription could not be saved")})]},e.organizationId))),i.length>ue&&u<i.length&&s.jsx(g,{onClick:()=>{c(u+ce)},children:a("guide-requests-app.showMore","Show more")})]}),s.jsxs(f.Footer,{children:[s.jsx(f.FooterItem,{children:s.jsx(x,{onClick:l,isBasic:!0,children:a("guide-requests-app.cancel","Cancel")})}),s.jsx(f.FooterItem,{children:s.jsx(x,{isPrimary:!0,onClick:()=>{_(),w()},"data-test-id":"saveOrganizationButton",children:p?s.jsx(v,{size:20,delayMS:0}):a("guide-requests-app.save","Save")})})]}),s.jsx(f.Close,{"aria-label":a("guide-requests-app.closeModal","Close modal"),onClick:l})]})}function me({organizations:n,user:r}){const{t:a}=t(),[i,o]=e.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsx(x,{onClick:()=>{o(!0)},"data-test-id":"followOrganizationButton",children:a("guide-requests-app.followOrganization","Follow organization")}),i&&s.jsx(je,{organizations:n,user:r,onClose:()=>o(!1)})]})}const fe=768,be={mobile:`(max-width: ${fe}px)`,desktop:`(min-width: ${fe+1}px)`},ge=e=>S`
      @media screen and ${be.mobile} {
        ${S(e)}
      }
    `,xe=e=>S`
      @media screen and ${be.desktop} {
        ${S(e)}
      }
    `,ve=i.div`
  ${xe`display: none;`}
`,qe=i.div`
  ${ge`display: none;`}
`,Se=()=>matchMedia(be.mobile).matches,ye="my-requests",we="ccd-requests",_e="org-requests";function Ce(e,t){const s=y(e,t);return`>${w(s,{representation:"date"})}`}function ke(e,t){const s=_(e,t);return`>${w(s,{representation:"date"})}`}function Fe(e){const t=C(e,1);return`>${w(t,{representation:"date"})}`}function Ie(){const{t:e}=t();return{filterTypeDropdownI18N:{anyValue:e("guide-requests-app.anyValue","Any value"),range:e("guide-requests-app.range-filter-type","Range"),exactMatch:e("guide-requests-app.exactMatch","Exact match")},statusFilterValuesI18N:{":open :new :hold":e("guide-requests-app.statusOpen","Open"),":pending":e("guide-requests-app.statusPending","Awaiting reply"),":solved :closed":e("guide-requests-app.statusSolved","Solved")},checkboxFilterValuesI18N:{":checked":e("guide-requests-app.checkbox-filter.selected","Selected"),":unchecked":e("guide-requests-app.checkbox-filter.not-selected","Not selected")},createDefaultDateRangeI18N:function(){const t=new Date;return{[Ce(t,1)]:e("guide-requests-app.inThePastDay","In the past day"),[Ce(t,7)]:e("guide-requests-app.inThePastWeek","In the past week"),[ke(t,1)]:e("guide-requests-app.inThePastMonth","In the past month"),[ke(t,3)]:e("guide-requests-app.inThePast3Months","In the past 3 months"),[ke(t,6)]:e("guide-requests-app.inThePast6Months","In the past 6 months"),[Fe(t)]:e("guide-requests-app.inThePastYear","In the past year")}}}}function ze({errors:e,field:r}){const{t:a}=t();return e[r]?s.jsx(n.Message,{validation:"error",validationLabel:a("guide-requests-app.error-icon-label","Error"),children:e[r]}):null}function Ee({children:e}){const t=m();return s.jsx(o,{appendToNode:t,popperModifiers:{preventOverflow:{boundariesElement:"viewport"}},children:e})}function $e({label:n,onSelect:r,errors:a}){const{t:i}=t(),o=e=>null===e?{state:"invalid",errors:{filterValue:i("guide-requests-app.filters-modal.select-value-error","Select a value")}}:{state:"valid",values:[e]},{checkboxFilterValuesI18N:d}=Ie(),[p,j]=e.useState(null);e.useEffect((()=>{r(o(null))}),[]);return s.jsxs(u,{selectedItem:p,onSelect:e=>{j(e),r(o(e))},children:[s.jsxs(l,{children:[s.jsx(c,{children:i("guide-requests-app.filters-modal.select-field-value","Select {{field_name}}",{field_name:n})}),s.jsx(k,{validation:a.filterValue?"error":void 0,children:p?d[p]:""}),s.jsx(ze,{errors:a,field:"filterValue"})]}),s.jsxs(Ee,{children:[s.jsx(h,{value:":checked",children:d[":checked"]}),s.jsx(h,{value:":unchecked",children:d[":unchecked"]})]})]})}const Te=i(k)`
  margin-top: ${e=>e.theme.space.xs};
`,De=e=>{const{t:n}=t(),{onFilterTypeSelect:r,selectedFilter:a,errors:i}=e,{filterTypeDropdownI18N:o}=Ie();return s.jsxs(u,{onSelect:r,selectedItem:a,children:[s.jsxs(l,{children:[s.jsx(c,{children:n("guide-requests-app.filter-modal.filterTypeLabel","Filter type")}),s.jsx(Te,{validation:i.filterType?"error":void 0,children:a?o[a]:""}),s.jsx(ze,{errors:i,field:"filterType"})]}),s.jsxs(Ee,{children:[s.jsx(h,{value:"anyValue",children:o.anyValue}),s.jsx(h,{value:"exactMatch",children:o.exactMatch})]})]})},Oe=/^\d{4}$/,Re=i.div`
  display: flex;
  flex-direction: column;
  gap: ${e=>e.theme.space.md};
`;function Ve({onSelect:r,errors:a}){const{t:i}=t(),[o,l]=e.useState(),[u,c]=e.useState(""),d=(e,t)=>{switch(e){case void 0:return{state:"invalid",errors:{filterType:i("guide-requests-app.filters-modal.select-value-error","Select a value")}};case"anyValue":return{state:"valid",values:[":*"]};case"exactMatch":return Oe.test(t)?{state:"valid",values:[`:*${t}`]}:{state:"invalid",errors:{cardNumber:i("guide-requests-app.filter-modal.credit-card-digits-format-error","Enter the last four digits of the credit card, using only numbers")}}}};e.useEffect((()=>{r(d(void 0,""))}),[]);return s.jsxs(Re,{children:[s.jsx(De,{selectedFilter:o,onFilterTypeSelect:e=>{l(e),r(d(e,u))},errors:a}),"exactMatch"===o&&s.jsxs(n,{children:[s.jsx(n.Label,{children:i("guide-requests-app.filter-modal.credit-card-digits-label","Enter the last four digits of the credit card")}),s.jsx(F,{type:"text",inputMode:"numeric",value:u,onChange:e=>{const t=e.target.value;c(t),r(d(o,t))},validation:a.cardNumber?"error":void 0,maxLength:4}),s.jsx(ze,{errors:a,field:"cardNumber"})]})]})}const Ne=i.div`
  display: flex;
  flex-direction: column;
  gap: ${e=>e.theme.space.sm};
`;const Pe=i((function({initialValues:[r,a],onChange:i,errors:o,allowFutureDates:l,className:u}){const{t:c,i18n:d}=t(),h=d.language,[p,j]=e.useState(r),[m,f]=e.useState(a);return s.jsx("div",{className:u,children:Se()?s.jsxs(Ne,{children:[s.jsxs(n,{children:[s.jsx(n.Label,{children:c("guide-requests-app.startDate","Start")}),s.jsx(F,{type:"date",value:p?w(p,{representation:"date"}):"",max:l?void 0:w(new Date,{representation:"date"}),onChange:e=>{const t=e.target.value?new Date(e.target.value):void 0;j(t),i([t,m])},validation:o.startDate?"error":void 0,required:!0}),s.jsx(ze,{errors:o,field:"startDate"})]}),s.jsxs(n,{children:[s.jsx(n.Label,{children:c("guide-requests-app.endDate","End")}),s.jsx(F,{type:"date",value:m?w(m,{representation:"date"}):"",max:l?void 0:w(new Date,{representation:"date"}),onChange:e=>{const t=e.target.value?new Date(e.target.value):void 0;f(t),i([p,t])},validation:o.endDate?"error":void 0,required:!0}),s.jsx(ze,{errors:o,field:"endDate"})]})]}):s.jsx(I,{startValue:p,endValue:m,maxValue:l?void 0:new Date,onChange:e=>{e.startValue&&j(e.startValue),e.endValue&&f(e.endValue),i([e.startValue??p,e.endValue??m])},locale:h,isCompact:!0,children:s.jsxs(Ne,{children:[s.jsxs(z.Row,{children:[s.jsx(z.Col,{children:s.jsxs(n,{children:[s.jsx(n.Label,{children:c("guide-requests-app.startDate","Start")}),s.jsx(I.Start,{children:s.jsx(F,{validation:o.startDate?"error":void 0})}),s.jsx(ze,{errors:o,field:"startDate"})]})}),s.jsx(z.Col,{children:s.jsxs(n,{children:[s.jsx(n.Label,{children:c("guide-requests-app.endDate","End")}),s.jsx(I.End,{children:s.jsx(F,{validation:o.endDate?"error":void 0})}),s.jsx(ze,{errors:o,field:"endDate"})]})})]}),s.jsx(z.Row,{children:s.jsx(z.Col,{children:s.jsx(I.Calendar,{})})})]})})})}))`
  margin-top: ${e=>e.theme.space.md};
`;function Me({label:n,onSelect:r,errors:a,allowFutureDates:i}){const{t:o}=t(),[d,p]=e.useState(null),{createDefaultDateRangeI18N:j}=Ie(),m=j(),f=[new Date,new Date],b=(e,t,s=[void 0,void 0])=>null===e?{state:"invalid",errors:{dateFilterItem:o("guide-requests-app.filters-modal.select-value-error","Select a value")}}:"custom"!==e?{state:"valid",values:[e]}:(({values:[e,t],allowFutureDates:s})=>{if(void 0===e||void 0===t){const s={};return void 0===e&&(s.startDate=o("guide-requests-app.no-start-date-error","Select a start date")),void 0===t&&(s.endDate=o("guide-requests-app.no-end-date-error","Select an end date")),{state:"invalid",errors:s}}if(e>t)return{state:"invalid",errors:{endDate:o("guide-requests-app.endDateAfterStartDate","End date must occur after the start date")}};{const n={},r=new Date;return!s&&e>r&&(n.startDate=o("guide-requests-app.date-lte-today","Select a date earlier than or equal to today")),!s&&t>r&&(n.endDate=o("guide-requests-app.date-lte-today","Select a date earlier than or equal to today")),Object.keys(n).length>0?{state:"invalid",errors:n}:{state:"valid",values:[`>=${E(e,"yyyy-MM-dd")}`,`<=${E(t,"yyyy-MM-dd")}`]}}})({values:s,allowFutureDates:t});return e.useEffect((()=>{r(b(null,i,f))}),[]),s.jsxs(s.Fragment,{children:[s.jsxs(u,{selectedItem:d,onSelect:function(e){p(e),r(b(e,i,f))},children:[s.jsxs(l,{children:[s.jsx(c,{children:n}),s.jsx(k,{validation:a.dateFilterItem?"error":void 0,children:((e,t)=>{switch(e){case null:return"";case"custom":return o("guide-requests-app.custom","Custom");default:return t[e]||""}})(d,m)}),s.jsx(ze,{errors:a,field:"dateFilterItem"})]}),s.jsxs(Ee,{children:[Object.entries(m).map((([e,t])=>s.jsx(h,{value:e,children:t},e))),s.jsx(h,{value:"custom",children:o("guide-requests-app.custom","Custom")})]})]}),"custom"===d&&s.jsx(Pe,{initialValues:f,onChange:function(e){r(b(d,i,e))},errors:a,allowFutureDates:i})]})}function Le(n,r){const{t:a}=t(),[i,o]=e.useState(""),[l,u]=e.useState(n),c=e.useRef((e=>{const t=n.filter((t=>t[r].trim().toLowerCase().includes(e.trim().toLowerCase())));u(t)})),d={inputValue:i,onInputValueChange:e=>o(e)};return e.useEffect((()=>{c.current(i)}),[i]),{dropdownProps:d,renderItems:e=>l.length?s.jsx(s.Fragment,{children:l.map((t=>e(t)))}):s.jsx(h,{disabled:!0,children:a("guide-requests-app.filters-modal.no-matches-found","No matches found")})}}function Ae({label:n,options:r,onSelect:a,errors:i}){const{t:o}=t(),d=e=>e.length>0?{state:"valid",values:e.map((e=>e.value))}:{state:"invalid",errors:{selectedOptions:o("guide-requests-app.filters-modal.multiselect-no-value-error","Select at least one value")}},[p,j]=e.useState([]),{dropdownProps:m,renderItems:f}=Le(r,"value");return e.useEffect((()=>{a(d([]))}),[]),s.jsxs(u,{...m,selectedItems:p,onSelect:function(e){j(e),a(d(e))},downshiftProps:{defaultHighlightedIndex:0,itemToString:e=>e?.value},children:[s.jsxs(l,{children:[s.jsx(c,{children:n}),s.jsx($,{renderItem:({value:e,removeValue:t})=>s.jsxs(T,{children:[s.jsx("span",{children:e.label}),s.jsx(T.Close,{onClick:()=>t()})]}),validation:i.selectedOptions?"error":void 0}),s.jsx(ze,{errors:i,field:"selectedOptions"})]}),s.jsx(Ee,{children:f((e=>s.jsx(h,{value:e,children:e.label},e.value)))})]})}const Be=i.div`
  display: flex;
  flex-direction: column;
  gap: ${e=>e.theme.space.sm};
`;function He({label:r,onSelect:a,errors:i,type:o}){const{t:d}=t(),[p,j]=e.useState(null),m=(e,t)=>{if(null===e)return{state:"invalid",errors:{filterType:d("guide-requests-app.filters-modal.no-filter-type-error","Select a filter type")}};switch(e.type){case"anyValue":return{state:"valid",values:[":*"]};case"range":{const s=parseFloat(e.minValue),n=parseFloat(e.maxValue);return Number.isNaN(s)?{state:"invalid",errors:{minValue:d("guide-requests-app.filters-modal.no-text-value-error","Insert a value")}}:Number.isNaN(n)?{state:"invalid",errors:{maxValue:d("guide-requests-app.filters-modal.no-text-value-error","Insert a value")}}:"integer"!==t||Number.isInteger(s)?"integer"!==t||Number.isInteger(n)?s>=n?{state:"invalid",errors:{maxValue:d("guide-requests-app.filter-modal.minValue-greater-than-maxValue","Select a value greater than min value")}}:{state:"valid",values:[`>=${s}`,`<=${n}`]}:{state:"invalid",errors:{maxValue:d("guide-requests-app.filter-modal.integer-value-error","Insert an integer value")}}:{state:"invalid",errors:{minValue:d("guide-requests-app.filter-modal.integer-value-error","Insert an integer value")}}}case"exactMatch":{const{value:s}=e;return""===s?{state:"invalid",errors:{exactValue:d("guide-requests-app.filters-modal.no-text-value-error","Insert a value")}}:"integer"!==t||Number.isInteger(Number(s))?{state:"valid",values:[`:${s}`]}:{state:"invalid",errors:{exactValue:d("guide-requests-app.filter-modal.integer-value-error","Insert an integer value")}}}}};e.useEffect((()=>{a(m(null,o))}),[]);const{filterTypeDropdownI18N:f}=Ie();return s.jsxs(Be,{children:[s.jsxs(u,{selectedItem:p?.type,onSelect:e=>{let t;switch(e){case"anyValue":t={type:"anyValue"};break;case"range":t={type:"range",minValue:"",maxValue:""};break;case"exactMatch":t={type:"exactMatch",value:""}}j(t),a(m(t,o))},children:[s.jsxs(l,{children:[s.jsx(c,{children:d("guide-requests-app.filter-modal.filterTypeLabel","Filter type")}),s.jsx(k,{validation:i.filterType?"error":void 0,children:p?f[p.type]:""}),s.jsx(ze,{errors:i,field:"filterType"})]}),s.jsxs(Ee,{children:[s.jsx(h,{value:"anyValue",children:f.anyValue}),s.jsx(h,{value:"range",children:f.range}),s.jsx(h,{value:"exactMatch",children:f.exactMatch})]})]}),"range"===p?.type&&s.jsxs(z.Row,{children:[s.jsx(z.Col,{children:s.jsxs(n,{children:[s.jsx(n.Label,{children:d("guide-requests-app.filter-modal.minValue","Min value")}),s.jsx(F,{type:"number",value:p.minValue,onChange:e=>{((e,t)=>{const s={...t,minValue:e};j(s),a(m(s,o))})(e.target.value,p)},validation:i.minValue?"error":void 0}),s.jsx(ze,{errors:i,field:"minValue"})]})}),s.jsx(z.Col,{children:s.jsxs(n,{children:[s.jsx(n.Label,{children:d("guide-requests-app.filter-modal.maxValue","Max value")}),s.jsx(F,{type:"number",value:p.maxValue,onChange:e=>{((e,t)=>{const s={...t,maxValue:e};j(s),a(m(s,o))})(e.target.value,p)},validation:i.maxValue?"error":void 0}),s.jsx(ze,{errors:i,field:"maxValue"})]})})]}),"exactMatch"===p?.type&&s.jsxs(n,{children:[s.jsx(n.Label,{children:d("guide-requests-app.filters-modal.enter-field-value","Enter {{field_name}}",{field_name:r})}),s.jsx(F,{type:"number",value:p.value,onChange:e=>{((e,t)=>{const s={...t,value:e};j(s),a(m(s,o))})(e.target.value,p)},validation:i.exactValue?"error":void 0}),s.jsx(ze,{errors:i,field:"exactValue"})]})]})}const Ue=i.div`
  height: ${e=>e.theme.space.md};
`,Xe=({label:r,onSelect:a,errors:i})=>{const{t:o}=t(),[l,u]=e.useState(""),[c,d]=e.useState(),h=(e,t)=>{switch(e){case void 0:return{state:"invalid",errors:{filterType:o("guide-requests-app.filters-modal.no-filter-type-error","Select a filter type")}};case"anyValue":return{state:"valid",values:[":*"]};case"exactMatch":return""!==t?{state:"valid",values:[`:"${t}"`]}:{state:"invalid",errors:{textValue:o("guide-requests-app.filters-modal.no-text-value-error","Insert a value")}}}};e.useEffect((()=>{a(h(void 0,""))}),[]);return s.jsxs(s.Fragment,{children:[s.jsx(De,{onFilterTypeSelect:e=>{d(e),a(h(e,l))},selectedFilter:c,errors:i}),s.jsx(Ue,{}),"exactMatch"===c&&s.jsxs(n,{children:[s.jsx(n.Label,{children:o("guide-requests-app.filters-modal.enter-field-value","Enter {{field_name}}",{field_name:r})}),s.jsx(F,{value:l,onChange:e=>{const t=e.target.value;u(t),a(h(c,t))},validation:i.textValue?"error":void 0}),s.jsx(ze,{errors:i,field:"textValue"})]})]})};function Ge({selectedFilterProperty:e,ticketFields:n,organizations:r,customStatusOptions:a,onSelect:i,errors:o}){const{t:l}=t(),{statusFilterValuesI18N:u}=Ie();if("created_at"===e.identifier||"updated_at"===e.identifier)return s.jsx(Me,{label:e.label,onSelect:i,errors:o,allowFutureDates:!1});if("status"===e.identifier){const e=Object.entries(u).map((([e,t])=>({value:e,label:t})));return s.jsx(Ae,{label:l("guide-requests-app.status","Status"),onSelect:i,options:e,errors:o})}if("custom_status_id"===e.identifier)return s.jsx(Ae,{label:l("guide-requests-app.status","Status"),onSelect:i,options:a,errors:o});if("organization"===e.identifier){const e=r.map((e=>({label:e.name,value:`:${e.id}`})));return s.jsx(Ae,{label:l("guide-requests-app.organization","Organization"),onSelect:i,options:e,errors:o})}const c=n.find((t=>String(t.id)===e.identifier));if(null==c)return s.jsx(s.Fragment,{});const{type:d,title_in_portal:h}=c;switch(d){case"textarea":case"text":case"regexp":return s.jsx(Xe,{label:h,onSelect:i,errors:o});case"tagger":case"multiselect":{const e=c.custom_field_options?.map((e=>({value:`:${e.value}`,label:e.name})))??[];return s.jsx(Ae,{label:h,onSelect:i,options:e,errors:o})}case"date":return s.jsx(Me,{label:h,onSelect:i,errors:o,allowFutureDates:!0});case"integer":case"decimal":return s.jsx(He,{label:h,onSelect:i,errors:o,type:d});case"checkbox":return s.jsx($e,{label:h,onSelect:i,errors:o});case"partialcreditcard":return s.jsx(Ve,{onSelect:i,errors:o});default:return s.jsx(s.Fragment,{})}}const Ye=["description","group","assignee","custom_status","status","subject","priority","tickettype","lookup","requester"];function We({ticketFields:e,organizations:n,selectedProperty:r,hasCustomStatuses:a,onSelect:i,errors:o}){const{t:p}=t(),j=[{identifier:"created_at",label:p("guide-requests-app.createdDate","Created date")},{identifier:"updated_at",label:p("guide-requests-app.updatedDate","Updated date")},a?{identifier:"custom_status_id",label:p("guide-requests-app.status","Status")}:{identifier:"status",label:p("guide-requests-app.status","Status")},...n.length>1?[{identifier:"organization",label:p("guide-requests-app.organization","Organization")}]:[],...e.filter((e=>!Ye.includes(e.type))).map((({id:e,title_in_portal:t})=>({identifier:String(e),label:t})))],{dropdownProps:m,renderItems:f}=Le(j,"label");return s.jsxs(u,{...m,selectedItem:r,onSelect:i,downshiftProps:{defaultHighlightedIndex:0,itemToString:e=>`${e?.identifier}`},children:[s.jsxs(l,{children:[s.jsx(c,{children:p("guide-requests-app.filters-modal.select-filter","Select filter")}),s.jsx(d,{validation:o.ticketField?"error":void 0,children:r?.label}),s.jsx(ze,{errors:o,field:"ticketField"})]}),s.jsx(Ee,{children:f((e=>s.jsx(h,{value:e,children:e.label},e.identifier)))})]})}const Qe=i.div`
  height: ${e=>e.theme.space.md};
`,Ze=["subject","description","status","custom_status","type","priority","basic_priority","assignee","group","tickettype","requester"];function Je({onClose:n,ticketFields:r,organizations:a,filterValuesMap:i,onFiltersChanged:o,customStatusesEnabled:l,customStatusOptions:u}){const{t:c}=t(),[d,h]=e.useState(),[p,j]=e.useState(),[b,g]=e.useState({}),v=m();return s.jsx(f,{appendToNode:v,onClose:n,children:s.jsxs("form",{onSubmit:e=>{var t;if(e.preventDefault(),d)if("valid"===p?.state){const e=(t=d.identifier,Ze.includes(t)||"created_at"===d.identifier||"updated_at"===d.identifier||"organization"===d.identifier||"custom_status_id"===d.identifier?d.identifier:`custom_field_${d.identifier}`);o({...i,[e]:p.values}),n()}else"invalid"===p?.state&&g(p.errors);else g({ticketField:c("guide-requests-app.filters-modal.select-filter-required","Select a filter")})},noValidate:!0,children:[s.jsx(D,{children:c("guide-requests-app.filters-modal.title","Filters")}),s.jsxs(O,{children:[s.jsx(We,{ticketFields:r,organizations:a,hasCustomStatuses:l,selectedProperty:d,onSelect:e=>{g({}),h(e)},errors:b}),s.jsx(Qe,{}),d&&s.jsx(Ge,{selectedFilterProperty:d,ticketFields:r,organizations:a,customStatusOptions:u,onSelect:j,errors:b},d.identifier)]}),s.jsxs(R,{children:[s.jsx(V,{children:s.jsx(x,{type:"button",onClick:n,isBasic:!0,children:c("guide-requests-app.cancel","Cancel")})}),s.jsx(V,{children:s.jsx(x,{type:"submit",isPrimary:!0,children:c("guide-requests-app.filters-modal.apply-filter-button","Apply filter")})})]}),s.jsx(N,{"aria-label":c("guide-requests-app.closeModal","Close modal")})]})})}function Ke({field:e,onFilterRemoved:t,children:n}){return s.jsxs(T,{size:"large",isRegular:!0,tabIndex:0,onKeyDown:e=>function(e){"Delete"!==e.code&&"Backspace"!==e.code||(e.preventDefault(),t())}(e),children:[n,s.jsx(T.Close,{onClick:()=>t()})]},e)}function et(e){const t=e[0]?.substring(1);return t&&"*"!==t?t.substring(1,t.length-1):""}function tt(e){const[t,s]=e;if(1===e.length&&t){const e=t.substring(1);return e&&"*"!==e?e:""}return 2===e.length&&t&&s?`${t.substring(2)} - ${s.substring(2)}`:""}function st(e){const t=e[0]?.substring(2);return""===t?"":`XXXXXXXXXXXX${t}`}function nt({identifier:e,ticketFields:n,organizations:r,values:a,customStatusOptions:i,onFilterRemoved:o}){const{t:l,i18n:u}=t(),c=u.language,{checkboxFilterValuesI18N:d,statusFilterValuesI18N:h,createDefaultDateRangeI18N:p}=Ie(),j=e=>{const t=e[0];return 1===e.length&&void 0!==t?p()[t]||"":(([e,t])=>{const s=new Date(e.substring(2)),n=new Date(t.substring(2));return new Intl.DateTimeFormat(c,{dateStyle:"long"}).formatRange(s,n)})(e)};if("organization"===e){const t=r.find((e=>String(e.id)===a[0]?.substring(1)));return t?s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:l("guide-requests-app.organization","Organization")})," ",t.name]})}):s.jsx(s.Fragment,{})}if("created_at"===e)return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:l("guide-requests-app.createdDate","Created date")})," ",j(a)]})});if("updated_at"===e)return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:l("guide-requests-app.updatedDate","Updated date")})," ",j(a)]})});if("status"===e)return s.jsx(s.Fragment,{children:a.map((t=>s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o([t])},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:l("guide-requests-app.status","Status")})," ",h[t]]})},t)))});if("custom_status_id"===e)return s.jsx(s.Fragment,{children:a.map((t=>{const n=i.find((e=>e.value===t))?.label;return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o([t])},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:l("guide-requests-app.status","Status")})," ",n]})},t)}))});const m=e.startsWith("custom_field_")?n.find((t=>String(t.id)===e.replace("custom_field_",""))):n.find((t=>t.type===e));if(null==m)return s.jsx(s.Fragment,{});switch(m.type){case"date":return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",j(a)]})});case"tagger":case"multiselect":return s.jsx(s.Fragment,{children:a.map((t=>{const n=m.custom_field_options?.find((e=>e.value===t.substring(1)));return n&&s.jsx(Ke,{field:e,values:[t],onFilterRemoved:()=>{o([t])},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",n.name]})},n.id)}))});case"text":case"textarea":case"regexp":return s.jsx(s.Fragment,{children:s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",et(a)]})})});case"integer":case"decimal":return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",tt(a)]})});case"checkbox":return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",d[a[0]]]})});case"partialcreditcard":return s.jsx(Ke,{field:e,values:a,onFilterRemoved:()=>{o(a)},children:s.jsxs("span",{children:[s.jsx(P,{isBold:!0,children:m.title_in_portal})," ",st(a)]})});default:return s.jsx(s.Fragment,{})}}const rt=i.div`
  display: flex;
  flex-wrap: wrap;
  gap: 4px;
  min-height: 32px;
  margin-bottom: 28px;
`;function at({filters:e,ticketFields:n,organizations:r,customStatusOptions:a,onFiltersChanged:i}){const{t:o}=t();return s.jsxs(rt,{children:[Object.entries(e).map((([t,o])=>s.jsx(nt,{ticketFields:n,organizations:r,customStatusOptions:a,values:o,identifier:t,onFilterRemoved:s=>function(t,s){i(function(e,t,s){const n=e[t];if(null==n)return e;const r=n.filter((e=>!s.includes(e)));if(0===r.length){const s={...e};return delete s[t],s}return{...e,[t]:r}}(e,t,s))}(t,s)},t))),Object.keys(e).length>0&&s.jsx(x,{isBasic:!0,size:"small",onClick:()=>i({}),children:o("guide-requests-app.clearFilters","Clear filters")})]})}const it=i.div`
  align-items: flex-end;
  display: flex;
  gap: 12px;
  margin: ${e=>e.theme.space.sm} 0 ${e=>e.theme.space.xs};
  ${ge`
    align-items: flex-start;
    flex-direction: column;
  `}
`,ot=i.div`
  display: flex;
  flex-direction: column;
`,lt=i(ot)`
  width: 400px;
  ${ge`
    flex-direction: column;
    width: 100%;
  `};
`,ut=ot,ct=i(ot)`
  ${ge`
    align-items: flex-end;
    flex-direction: row;
    gap: 12px;
  `};
`,dt=i(ot)`
  display: flex;
  align-items: flex-end;
  justify-content: flex-end;
  flex-grow: 1;
`,ht=i(P)`
  margin-bottom: ${e=>e.theme.space.xs};
`;function pt({hasPagination:n,page:r,requestsCount:a,requestsPerPage:i,query:o,onSearchSubmit:l,filters:u,onFiltersChanged:c,organizations:d,selectedTab:h,onOrganizationSelected:p,user:j,ticketFields:m,customStatuses:f,customStatusesEnabled:b}){const{t:g}=t(),[v,q]=e.useState(!1),S=e.useMemo((()=>function(e){const t=[];for(const s of e){const e=s.label??s.end_user_label,n=t.find((t=>t.label===e));n?n.value+=` :${s.id}`:t.push({label:e,value:`:${s.id}`})}return t}(f)),[f]),y=(r-1)*i+1;let w=y+i-1;w>a&&(w=a);const _=h.name===_e,C=d.length>0;return s.jsxs(s.Fragment,{children:[s.jsx(P,{role:"status",hidden:!0,children:n?g("guide-requests-app.requestCount.screenreader.range","{{from}} to {{to}} of {{total}} requests",{from:y,to:w,total:a}):g("guide-requests-app.requestCount","{{count}} requests",{count:a})}),s.jsxs(it,{children:[s.jsxs(lt,{children:[s.jsx(ht,{children:n?g("guide-requests-app.requestCount.range","{{from}} - {{to}} of {{total}} requests",{from:y,to:w,total:a}):g("guide-requests-app.requestCount","{{count}} requests",{count:a})}),s.jsx(ae,{query:o,onSearchSubmit:l})]}),_&&s.jsxs(ct,{children:[s.jsx(le,{organizations:d,currentOrganizationId:h.organizationId,onOrganizationSelected:p}),C&&j&&s.jsx(ve,{children:s.jsx(me,{organizations:d,user:j})})]}),s.jsx(ut,{children:s.jsx(x,{onClick:()=>{q(!0)},children:g("guide-requests-app.filter","Filter")})}),s.jsx(dt,{children:s.jsx(qe,{children:_&&C&&j&&s.jsx(me,{organizations:d,user:j})})})]}),s.jsx(at,{filters:u,ticketFields:m,organizations:d,customStatusOptions:S,onFiltersChanged:c}),v&&s.jsx(Je,{onClose:()=>q(!1),ticketFields:m,filterValuesMap:u,onFiltersChanged:c,organizations:_?[]:d,customStatusesEnabled:b,customStatusOptions:S})]})}var jt={assign:e=>window.location.assign(e)};const mt=6e4,ft=60*mt;function bt({date:t,locale:n}){const r=e.useMemo((()=>new Intl.RelativeTimeFormat(n,{numeric:"auto"})),[n]),a=e.useMemo((()=>new Intl.DateTimeFormat(n,{dateStyle:"medium",timeStyle:"short"})),[n]),i=e.useMemo((()=>new Intl.DateTimeFormat(n,{timeStyle:"short"})),[n]),[o,l]=e.useState("");return e.useEffect((()=>{const e=()=>{l(function(e,t,s,n){const r=(new Date).valueOf()-e.valueOf();if(r<0)return s.format(e);if(r<ft){const e=Math.floor(r/mt);return M(t.format(-e,"minutes"))}if(L(e)){const s=`${t.format(0,"day")}, ${n.format(e)}`;return M(s)}if(A(e)){const s=`${t.format(-1,"day")}, ${n.format(e)}`;return M(s)}return s.format(e)}(t,r,a,i))},s=setInterval((()=>{e()}),mt);return e(),()=>{clearInterval(s)}}),[t,r,a,i]),s.jsx(s.Fragment,{children:o})}function gt({children:e,tooltip:t}){return s.jsx(B,{content:t||e,size:"medium",children:s.jsx(H,{title:"",children:e})})}const xt=i(T)`
  margin: 2px;
`,vt=i(g)`
  display: block;
  margin: 5px;
`;function qt({tags:t}){const[n,r]=e.useState(!1),a=e=>s.jsx(xt,{isPill:!0,children:s.jsx(gt,{children:e})},e);return s.jsxs(s.Fragment,{children:[0===t.length&&"-",t.slice(0,3).map(a),t.length>3&&!n&&s.jsx(vt,{onClick:()=>r(!0),children:`+ ${t.length-3} more`}),n&&t.slice(3).map(a)]})}const St=i(g)`
  word-break: break-word;
`,yt=({children:e,identifier:t})=>s.jsx(U.Cell,{"data-test-id":`table-cell-${t}`,children:e?s.jsx(gt,{children:e}):"-"});function wt({ticketFields:e,identifier:n,request:r,customStatuses:a,customStatusesEnabled:i,user:o}){const{id:l,created_at:u,updated_at:c,subject:d,description:h,status:p,priority:j,type:m}=r,{t:f,i18n:b}=t(),g=b.language,x=new Intl.DateTimeFormat(g,{dateStyle:"medium"}),v={color:"red",label:f("guide-requests-app.statusOpen","Open")},q={color:"#038153",label:f("guide-requests-app.statusPending","Awaiting reply")},S={color:"#68737d",label:f("guide-requests-app.statusSolved","Solved")},y={new:v,open:v,hold:v,pending:q,solved:S,closed:S},w=e=>r.custom_fields.find((t=>t.id.toString()===e))?.value,_=e=>{switch(w(e)){case!0:return f("guide-requests-app.checkbox-filter.selected","Selected");case!1:return f("guide-requests-app.checkbox-filter.not-selected","Not selected");default:return}};if("id"===n)return s.jsx(yt,{identifier:n,children:`#${l}`});if("created_at"===n)return s.jsx(yt,{identifier:n,children:x.format(new Date(u))});if("updated_at"===n)return s.jsx(yt,{identifier:n,children:s.jsx(bt,{date:new Date(c),locale:g})});if("status"===n){const{label:e,tooltip:t}=(()=>{if(!i)return{label:y[p].label,tooltip:void 0};const e=a.find((e=>e.id===r.custom_status_id)),t=e?.label||e?.end_user_label||y[p].label,s=e?.description||e?.end_user_description;return{label:t,tooltip:s?`${t} - ${s}`:t}})();return s.jsx(U.Cell,{"data-test-id":`table-cell-${n}`,children:s.jsx(T,{hue:y[p].color,children:s.jsx(gt,{tooltip:t,children:e||""})})})}if("requester"===n){const e=o?.alias||o?.name;return s.jsx(yt,{identifier:n,children:e})}if("subject"===n){const e=`/hc/requests/${l}`,t=t=>{t.preventDefault(),jt.assign(e)};return s.jsx(U.Cell,{role:"rowheader","data-test-id":`table-cell-${n}`,children:s.jsx(St,{href:e,onClick:t,children:s.jsx(gt,{children:d||h})})})}const C=e.find((e=>String(e.id)===n||e.type===n));if(void 0===C)return null;switch(C.type){case"priority":return s.jsx(yt,{identifier:n,children:j});case"tickettype":return s.jsx(yt,{identifier:n,children:m});case"checkbox":return s.jsx(yt,{identifier:n,children:_(n)});case"regexp":case"partialcreditcard":case"text":case"textarea":case"integer":case"decimal":{const e=w(n);return s.jsx(yt,{identifier:n,children:e?e.toString():void 0})}case"date":{const e=w(n);return s.jsx(yt,{identifier:n,children:e?s.jsx(bt,{date:new Date(e),locale:g}):s.jsx("span",{children:"-"})})}case"tagger":{const e=w(n),t=C.custom_field_options?.find((t=>t.value===e))?.name;return s.jsx(yt,{identifier:n,children:t})}case"multiselect":{const e=(w(n)||[]).map((e=>C.custom_field_options?.find((t=>t.value===e))?.name));return s.jsx(U.Cell,{"data-test-id":`table-cell-${n}`,children:s.jsx(qt,{tags:e})})}default:return s.jsx(U.Cell,{})}}function _t({request:e,ticketFields:t,selectedAttributes:n,customStatuses:r,customStatusesEnabled:a,user:i}){return s.jsxs(U.Row,{children:[n.map((({identifier:n})=>s.jsx(wt,{request:e,ticketFields:t,identifier:n,customStatuses:r,customStatusesEnabled:a,user:i},`request-${e.id}-field-${n}`))),s.jsx(U.Cell,{})]},e.id)}const Ct=i(f.Body)`
  display: flex;
  flex-direction: column;
  gap: ${e=>e.theme.space.md};
`;function kt({onClose:i,selectedColumns:o,onSelectedColumnsChanged:l,requestAttributes:u}){const{t:c}=t(),[d,h]=e.useState(o),[p,j]=e.useState(""),g=m(),v=p?u.filter((e=>e.label.trim().toLocaleLowerCase().includes(p.trim().toLocaleLowerCase()))):u,q=v.every((e=>d.includes(e.identifier))),S=v.some((e=>d.includes(e.identifier)));return s.jsxs(f,{appendToNode:g,onClose:i,children:[s.jsx(f.Header,{children:c("guide-requests-app.column-selection.show-hide-columns","Show and hide columns")}),s.jsxs(Ct,{children:[s.jsxs(n,{children:[s.jsx(n.Label,{hidden:!0,children:c("guide-requests-app.column-selection.search-columns","Search for columns")}),s.jsx(r,{start:s.jsx(a,{}),type:"search",value:p,onChange:e=>{j(e.target.value)}})]}),s.jsxs(U,{"aria-live":"polite",children:[s.jsx(U.Head,{children:s.jsxs(U.HeaderRow,{children:[s.jsx(U.HeaderCell,{isMinimum:!0,children:s.jsx(n,{children:s.jsx(b,{checked:q,indeterminate:!q&&S,onChange:e=>{if(e.target.checked){const e=new Set([...o,...v.map((e=>e.identifier))]);h([...e])}else h(d.filter((e=>void 0===v.find((t=>t.identifier===e)))))},children:s.jsx(n.Label,{hidden:!0,children:q?c("guide-requests-app.column-selection.hide-all","Hide all columns"):c("guide-requests-app.column-selection.show-all","Show all columns")})})})}),s.jsx(U.HeaderCell,{children:c("guide-requests-app.column-selection.column","Column")})]})}),s.jsx(U.Body,{children:v.map((({identifier:e,label:t})=>{const r=d.includes(e);return s.jsxs(U.Row,{isSelected:r,children:[s.jsx(U.Cell,{isMinimum:!0,children:s.jsx(n,{children:s.jsx(b,{checked:r,onChange:t=>{const s=t.target.checked;h(s?t=>[...t,e]:t=>t.filter((t=>t!==e)))},children:s.jsx(n.Label,{hidden:!0,children:r?c("guide-requests-app.column-selection.hide-column","Hide {{column_name}} column",{column_name:t}):c("guide-requests-app.column-selection.show-column","Show {{column_name}} column",{column_name:t})})})})}),s.jsx(U.Cell,{children:t})]},e)}))})]})]}),s.jsxs(f.Footer,{children:[s.jsx(f.FooterItem,{children:s.jsx(x,{onClick:i,isBasic:!0,children:c("guide-requests-app.cancel","Cancel")})}),s.jsx(f.FooterItem,{children:s.jsx(x,{onClick:()=>{l(d),i()},isPrimary:!0,children:c("guide-requests-app.save","Save")})})]}),s.jsx(f.Close,{"aria-label":c("guide-requests-app.closeModal","Close modal")})]})}const Ft=i(o)`
  max-height: 380px;
`,It="__openModal__",zt=i(h)`
  color: ${e=>e.theme.colors.variables.light.background.primaryEmphasis};
`;function Et({onSelectedColumnsChanged:n,selectedColumns:r,requestAttributes:a,defaultDesktopColumns:i}){const{t:o}=t(),[l,c]=e.useState(!1),[d,p]=e.useState(!1),[j,m]=e.useState(r),f=a.length>i.length,b=e=>{0!==e.length?n(e.filter((e=>e!==It))):n([])};return s.jsxs(s.Fragment,{children:[s.jsxs(u,{isOpen:l,selectedItems:r,onSelect:b,onStateChange:e=>{if(!0===e.isOpen&&m(r),"selectedItems"in e&&e.selectedItems[e.selectedItems.length-1]===It)return c(!1),void p(!0);null!=e.isOpen&&c("selectedItems"in e||e.isOpen)},children:[s.jsx(X,{children:s.jsx(U.OverflowButton,{"aria-label":o("guide-requests-app.column-selection.show-hide-columns","Show and hide columns")})}),s.jsxs(Ft,{placement:"bottom-end",popperModifiers:{preventOverflow:{boundariesElement:"viewport"},flip:{enabled:!1},offset:{fn:e=>(e.offsets.popper.top-=2,e)}},children:[s.jsx(G,{children:o("guide-requests-app.column-selection.show-hide-columns","Show and hide columns")}),a.map((({identifier:e,label:t})=>i.includes(e)||j.includes(e)?s.jsx(h,{value:e,"data-test-id":`column-filter-menu-${e}`,children:t},e):null)),f&&s.jsx(zt,{value:It,children:o("guide-requests-app.column-selection.see-more-columns","See more columns")})]})]}),d&&s.jsx(kt,{onClose:()=>{p(!1)},selectedColumns:r,onSelectedColumnsChanged:b,requestAttributes:a})]})}var $t={setItem:(e,t)=>window.localStorage.setItem(e,t),getItem:e=>window.localStorage.getItem(e),removeItem(e){window.localStorage.removeItem(e)},clear(){window.localStorage.clear()}};const Tt=i.div`
  margin-bottom: 24px;
`,Dt=i(U.SortableCell)`
  display: grid; // Without it Ellipsis won't work
`,Ot=["created_at","updated_at","status"],Rt=["description","group","assignee","custom_status","lookup"],Vt=["subject"],Nt=["subject","id","created_at","updated_at","status"],Pt=["subject","updated_at","status"],Mt="GUIDE_REQUESTS_APP_COLUMN_CONFIG";function Lt({onSort:n,sort:r,requests:a,users:i,ticketFields:o,customStatuses:l,customStatusesEnabled:u}){const{t:c}=t(),d={id:c("guide-requests-app.id","ID"),created_at:c("guide-requests-app.createdDate","Created date"),updated_at:c("guide-requests-app.updatedDate","Updated date"),status:c("guide-requests-app.status","Status"),requester:c("guide-requests-app.requester","Requester")},h=Se()?Pt:Nt,[p,j]=function(t,s,n="v1"){const r=e.useCallback((()=>{try{const e=$t.getItem(t);if(!e)return s;const r=JSON.parse(e);return r[0]===n?r[1]:s}catch(e){return s}}),[s,t]),[a,i]=e.useState(r);return[a,e=>{try{i(e),$t.setItem(t,JSON.stringify([n,e]))}catch(e){}}]}(Mt,h,"v4"),m=[...Nt,"requester"],f=e.useMemo((()=>0===o.length?[]:[...m.map((e=>{const t=d[e]??o.find((t=>t.type===e))?.title_in_portal??e;return{identifier:e,label:t}})),...o.filter((e=>!m.includes(e.type))).filter((e=>!Rt.includes(e.type))).map((({id:e,title_in_portal:t})=>({identifier:String(e),label:t})))]),[o]),b=f.filter((e=>p.includes(e.identifier))),g=p.filter((e=>!Vt.includes(e))),x=f.filter((({identifier:e})=>!Vt.includes(e)));function v(e){const t=p.length;return Se()?"auto":"subject"===e?1===t?"auto":t<=2?"80%":t<=3?"60%":t<=6?"40%":t<=8?"30%":"20%":"auto"}return s.jsx(Tt,{"aria-live":"polite",children:0===a.length?c("guide-requests-app.requests-empty-state","No requests found"):s.jsxs(U,{isReadOnly:!0,children:[s.jsx(U.Head,{children:s.jsxs(U.HeaderRow,{children:[b.map((({identifier:e,label:t})=>Ot.includes(e)?s.jsx(Dt,{"data-test-id":`sortable-cell-${e}`,sort:r?.by===e?r?.order:void 0,onClick:()=>n(e),width:Se()?"auto":"",children:s.jsx(gt,{children:t})},e):s.jsx(U.HeaderCell,{"data-test-id":`header-cell-${e}`,width:v(e),children:s.jsx(gt,{children:t})},e))),s.jsx(U.HeaderCell,{hasOverflow:!0,children:s.jsx(Et,{selectedColumns:g,onSelectedColumnsChanged:function(e){j([...Vt,...e])},requestAttributes:x,defaultDesktopColumns:Nt})})]})}),s.jsx(U.Body,{children:a.map((e=>{return s.jsx(_t,{request:e,ticketFields:o,selectedAttributes:b,customStatuses:l,customStatusesEnabled:u,user:(t=e.requester_id,i.find((e=>e.id===t)))},e.id);var t}))})]})})}const At=i.div`
  margin-bottom: ${e=>e.theme.space.xxs};
  position: relative;
`,Bt=i(x)`
  background: none !important;
  border: 0;
  border-bottom: 3px solid;
  border-radius: 0;
  justify-content: start;
  line-height: 40px;
  margin-bottom: 20px;
  &:hover {
    color: ${e=>e.theme.colors.primaryHue};
  }
`,Ht=i(o)`
  width: 100%;
`;function Ut({selectedTab:n,organizations:r,onTabSelected:a}){const{t:i}=t(),[o,l]=e.useState(!1),c=e=>{switch(e){case _e:return i("guide-requests-app.organizationalRequests","Organizational requests");case ye:return i("guide-requests-app.myRequests","My requests");case we:return i("guide-requests-app.ccdRequests","Requests I am CC'd on")}},d=[ye,we];function p(e){if(e===_e){const e=function(e){return e.find((e=>e.default))||e[0]}(r);e&&a({name:_e,organizationId:e.id})}else a({name:e})}r.length>0&&d.push(_e);return s.jsxs(At,{children:[s.jsx(ve,{children:s.jsxs(u,{onSelect:e=>{p(e)},onStateChange:({isOpen:e})=>{null!=e&&l(e)},children:[s.jsx(X,{children:s.jsxs(Bt,{isBasic:!0,isStretched:!0,children:[c(n.name),s.jsx(x.EndIcon,{isRotated:o,children:s.jsx(Y,{})})]})}),s.jsx(Ht,{popperModifiers:{offset:{fn:e=>(e.styles.width=`${parseInt(String(e.offsets.reference.width),10)}px`,e)}},children:d.map((e=>s.jsx(h,{value:e,children:c(e)},e)))})]})}),s.jsx(qe,{children:s.jsx(W,{onChange:p,selectedItem:n.name,children:s.jsx(W.TabList,{children:d.map((e=>s.jsx(W.Tab,{"data-test-id":`tab-${e}`,item:e,children:c(e)},e)))})})})]})}const Xt="filter_",Gt={QUERY:"query",PAGE:"page",SORT_BY:"sort_by",SORT_ORDER:"sort_order",SELECTED_TAB_NAME:"selected_tab_name",ORGANIZATION_ID:"organization_id"};function Yt({query:e,page:t,sort:s,selectedTab:n,filters:r}){const a=new URLSearchParams;a.append(Gt.QUERY,e),a.append(Gt.PAGE,t.toString()),s&&(a.append(Gt.SORT_BY,s.by),a.append(Gt.SORT_ORDER,s.order)),a.append(Gt.SELECTED_TAB_NAME,n.name),n.name===_e&&a.append(Gt.ORGANIZATION_ID,n.organizationId.toString());for(const[e,t]of Object.entries(r))for(const s of t)a.append(`${Xt}${e}`,s);return a}const Wt="filter_",Qt={QUERY:"query",PAGE:"page",SORT_BY:"sort_by",SORT_ORDER:"sort_order",SELECTED_TAB_NAME:"selected_tab_name",ORGANIZATION_ID:"organization_id"},Zt="asc",Jt="desc";function Kt(e){const t={},s=e.get(Qt.QUERY),n=e.get(Qt.PAGE),r=e.get(Qt.SORT_BY),a=e.get(Qt.SORT_ORDER),i=e.get(Qt.SELECTED_TAB_NAME),o=e.get(Qt.ORGANIZATION_ID);null!=s&&(t.query=s),null!=n&&(t.page=parseInt(n,10)),null==r||null==a||a!==Zt&&a!==Jt||(t.sort={by:r,order:a}),null!==i&&(i===_e&&null!=o?t.selectedTab={name:_e,organizationId:parseInt(o,10)}:i!==ye&&i!==we||(t.selectedTab={name:i}));const l=function(e){const t={};for(const[s]of e){if(!s.startsWith(Wt))continue;const n=s.replace(Wt,"");if(null!=t[n])continue;const r=e.getAll(s).filter(es);t[n]=r}return t}(e);return Object.keys(l).length>0&&(t.filters=l),t}function es(e){return e.startsWith(":")||e.startsWith("<")||e.startsWith(">")}function ts(){const[t,s]=e.useState(),[n,r]=e.useState(),[a,i]=e.useState(!0);return e.useEffect((()=>{!async function(){try{i(!0);const e=await fetch("/api/v2/users/me");if(!e.ok)throw Error(e.statusText);const{user:t}=await e.json();s(t)}catch(e){r(e)}finally{i(!1)}}()}),[]),{user:t,error:n,isLoading:a}}async function ss(e,t,s){const n=await e();let r=[...n[t]],a=n.meta.has_more,i=n.links.next;for(;a;){const e=await fetch(i,s);if(!e.ok)throw new Error(e.statusText);const n=await e.json();r=r.concat(n[t]),a=n.meta.has_more,i=n.links.next}return r}function ns(t){const[s,n]=e.useState([]),[r,a]=e.useState();async function i(){const e=await fetch(`/api/v2/users/${t?.id}/organization_memberships?page[size]=100`);if(!e.ok)throw new Error(e.statusText);return await e.json()}return e.useEffect((()=>{t&&async function(){try{const e=(await ss(i,"organization_memberships")).filter((e=>e.view_tickets));n(e.map((e=>({id:e.organization_id,name:e.organization_name,default:e.default}))))}catch(e){a(e)}}()}),[t]),{organizations:s,error:r}}function rs(e){const t=new AbortController;return e(t.signal),()=>t.abort()}function as(e){return Object.entries(e).map((([e,t])=>function(e,t){return"status"===e||"custom_status_id"===e?t.map((t=>t.split(" ").map((t=>`${e}${t}`)))).flat():t.map((t=>`${e}${function(e){const t=/^:".*"$/.test(e);return t?`:"${e.substring(2,e.length-1).replace(/"/g,"")}"`:e}(t)}`)).flat()}(e,t))).flat()}const is=15,os=1e3;function ls(t){const[s,n]=e.useState([]),[r,a]=e.useState(),[i,o]=e.useState(!0);async function l(){try{const e=await ss((()=>async function(e,t=100){const s=await fetch(`/api/v2/ticket_fields.json?locale=${e}&page[size]=${t}`);if(!s.ok)throw new Error(s.statusText);return await s.json()}(t)),"ticket_fields");n(e.filter((e=>e.active))),o(!1)}catch(e){a(e)}}return e.useEffect((()=>{l()}),[]),{ticketFields:s,error:r,isLoading:i}}function us(t,s){const[n,r]=e.useState([]),[a,i]=e.useState();return e.useEffect((()=>{!async function(){if(t)try{const e=await fetch(`/api/v2/custom_statuses?active=true&locale=${s}`);if(!e.ok)throw new Error(e.statusText);const{custom_statuses:t}=await e.json();r(t)}catch(e){i(e)}}()}),[]),{customStatuses:n,error:a}}const cs=()=>s.jsxs(U.Row,{children:[s.jsx(U.Cell,{children:s.jsx(Q,{})}),s.jsx(U.Cell,{children:s.jsx(Q,{})}),s.jsx(U.Cell,{children:s.jsx(Q,{})})]}),ds=i(z.Col)`
  padding-left: 0;
`,hs=()=>s.jsxs(s.Fragment,{children:[s.jsxs(z,{children:[s.jsx(ds,{children:s.jsx(Q,{width:"50%"})}),s.jsx(ds,{children:s.jsx(Q,{width:"30%"})}),s.jsx(ds,{children:s.jsx(Q,{width:"40%"})}),s.jsx(ds,{children:s.jsx(Q,{width:"50%"})})]}),s.jsxs(U,{style:{minWidth:400},children:[s.jsx(U.Head,{children:s.jsxs(U.HeaderRow,{children:[s.jsx(U.HeaderCell,{children:s.jsx(Q,{width:"40%"})}),s.jsx(U.HeaderCell,{children:s.jsx(Q,{width:"40%"})}),s.jsx(U.HeaderCell,{children:s.jsx(Q,{width:"40%"})})]})}),s.jsxs(U.Body,{children:[s.jsx(cs,{}),s.jsx(cs,{}),s.jsx(cs,{})]})]})]});function ps({locale:n,customStatusesEnabled:r}){const{t:a}=t(),{params:i,push:o}=re({query:"",page:1,sort:{order:"desc",by:"updated_at"},selectedTab:{name:ye},filters:{}},Yt,Kt),{query:l,page:u,sort:c,selectedTab:d,filters:h}=i,{user:p,isLoading:j,error:m}=ts(),{organizations:f}=ns(p),{requests:b,users:g,hasNextPage:x,hasPreviousPage:v,requestsCount:S,requestsPerPage:y,isLoading:w,error:_}=function(s,n){const{t:r}=t(),{query:a,page:i,sort:o,selectedTab:l,filters:u}=s,[c,d]=e.useState(),[{requests:h,users:p,hasNextPage:j,hasPreviousPage:m,count:f,isLoading:b},g]=e.useState({count:0,hasNextPage:!1,hasPreviousPage:!1,requests:[],users:[],isLoading:!0});async function x(e){const t=new URLSearchParams,s=a.length?a:"*",c=as(u);t.set("include","users"),o&&c.push(`order_by:${o.by}`,`sort:${o.order}`),l.name===ye?c.push("requester:me"):l.name===we?t.set("cc_id","true"):l.name===_e&&t.set("organization_id",l.organizationId.toString()),is*i>os?t.set("page",Math.floor(os/is).toString()):t.set("page",i.toString()),t.set("per_page",is.toString()),t.set("query",`${s} ${c.join(" ")}`);try{const s=await fetch(`/api/v2/requests/search.json?${t.toString()}`,{signal:e});if(406===s.status){const{error:e}=await s.json();e.includes("Number of search words exceeds the limit")&&(q({type:"error",message:r("guide-requests-app.SearchPhraseIsTooLong","Search phrase is too long. Try something shorter.")}),n({page:1,query:""}))}else{const{requests:e,users:t,next_page:n,previous_page:r,count:a}=await s.json();g({count:Math.min(a??0,os),hasNextPage:!(!n||is*i>=os),hasPreviousPage:!!r,requests:e??[],users:t??[],isLoading:!1})}}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;d(e)}}return e.useEffect((()=>rs(x)),[s]),{requests:h,users:p,hasNextPage:j,hasPreviousPage:m,requestsCount:f,requestsPerPage:is,error:c,isLoading:b}}(i,o),{ticketFields:C,isLoading:k,error:F}=ls(n),I=_||F||m,z=w||!j&&"end-user"===p?.role?[]:b.map((e=>e.requester_id)),{users:E,isLoading:$}=function(t){const[s,n]=e.useState(),[{users:r,isLoading:a},i]=e.useState({users:[],isLoading:!0}),o=t.join(",");async function l(e){try{const t=await fetch(`/api/v2/users/show_many.json?ids=${o}`,{signal:e}),{users:s}=await t.json();i({users:s,isLoading:!1})}catch(e){if(e instanceof Error&&"AbortError"===e.name)return;n(e)}}return e.useEffect((()=>rs(l)),[o]),{users:r,error:s,isLoading:a}}(z),T=w||k||j||$;if(I)throw I;const{customStatuses:D}=us(r,n);return s.jsxs(s.Fragment,{children:[T?s.jsx(hs,{}):s.jsxs(s.Fragment,{children:[s.jsx(Ut,{organizations:f,selectedTab:d,onTabSelected:e=>{o({page:1,selectedTab:e,filters:{}})}}),s.jsx(pt,{hasPagination:x||v,page:u,requestsCount:S,requestsPerPage:y,query:l,onSearchSubmit:e=>o({page:1,query:e}),filters:h,ticketFields:C,onFiltersChanged:e=>{o({page:1,filters:e})},organizations:f,selectedTab:d,onOrganizationSelected:e=>{d.name===_e&&o({page:1,selectedTab:{name:_e,organizationId:e}})},user:p,customStatusesEnabled:r,customStatuses:D}),s.jsx(Lt,{onSort:e=>{c?.by===e?"asc"===c.order?o({page:1,sort:{by:c.by,order:"desc"}}):o({page:1,sort:null}):o({page:1,sort:{by:e,order:"asc"}})},requests:b,users:E||g,sort:c,ticketFields:C,customStatuses:D,customStatusesEnabled:r})]}),!T&&(v||x)&&s.jsxs(Z,{children:[s.jsx(Z.Previous,{onClick:()=>o({page:u-1}),disabled:!v,children:a("guide-requests-app.previous","Previous")}),s.jsx(Z.Next,{onClick:()=>o({page:u+1}),disabled:!x,children:a("guide-requests-app.next","Next")})]})]})}async function js(e,t,n){const{locale:r}=t,{customStatusesEnabled:a}=t;J(r),await K(r,[()=>function(e){switch(e){case"./translations/locales/af.json":return import("request-list-translations").then((function(e){return e.a}));case"./translations/locales/ar-x-pseudo.json":return import("request-list-translations").then((function(e){return e.b}));case"./translations/locales/ar.json":return import("request-list-translations").then((function(e){return e.c}));case"./translations/locales/az.json":return import("request-list-translations").then((function(e){return e.d}));case"./translations/locales/be.json":return import("request-list-translations").then((function(e){return e.e}));case"./translations/locales/bg.json":return import("request-list-translations").then((function(e){return e.f}));case"./translations/locales/bn.json":return import("request-list-translations").then((function(e){return e.g}));case"./translations/locales/bs.json":return import("request-list-translations").then((function(e){return e.h}));case"./translations/locales/ca.json":return import("request-list-translations").then((function(e){return e.i}));case"./translations/locales/cs.json":return import("request-list-translations").then((function(e){return e.j}));case"./translations/locales/cy.json":return import("request-list-translations").then((function(e){return e.k}));case"./translations/locales/da.json":return import("request-list-translations").then((function(e){return e.l}));case"./translations/locales/de-de.json":return import("request-list-translations").then((function(e){return e.m}));case"./translations/locales/de-x-informal.json":return import("request-list-translations").then((function(e){return e.n}));case"./translations/locales/de.json":return import("request-list-translations").then((function(e){return e.o}));case"./translations/locales/el.json":return import("request-list-translations").then((function(e){return e.p}));case"./translations/locales/en-001.json":return import("request-list-translations").then((function(e){return e.q}));case"./translations/locales/en-150.json":return import("request-list-translations").then((function(e){return e.r}));case"./translations/locales/en-au.json":return import("request-list-translations").then((function(e){return e.s}));case"./translations/locales/en-ca.json":return import("request-list-translations").then((function(e){return e.t}));case"./translations/locales/en-gb.json":return import("request-list-translations").then((function(e){return e.u}));case"./translations/locales/en-my.json":return import("request-list-translations").then((function(e){return e.v}));case"./translations/locales/en-ph.json":return import("request-list-translations").then((function(e){return e.w}));case"./translations/locales/en-se.json":return import("request-list-translations").then((function(e){return e.x}));case"./translations/locales/en-us.json":return import("request-list-translations").then((function(e){return e.y}));case"./translations/locales/en-x-dev.json":return import("request-list-translations").then((function(e){return e.z}));case"./translations/locales/en-x-keys.json":return import("request-list-translations").then((function(e){return e.A}));case"./translations/locales/en-x-obsolete.json":return import("request-list-translations").then((function(e){return e.B}));case"./translations/locales/en-x-pseudo.json":return import("request-list-translations").then((function(e){return e.C}));case"./translations/locales/en-x-test.json":return import("request-list-translations").then((function(e){return e.D}));case"./translations/locales/es-419.json":return import("request-list-translations").then((function(e){return e.E}));case"./translations/locales/es-ar.json":return import("request-list-translations").then((function(e){return e.F}));case"./translations/locales/es-cl.json":return import("request-list-translations").then((function(e){return e.G}));case"./translations/locales/es-es.json":return import("request-list-translations").then((function(e){return e.H}));case"./translations/locales/es-mx.json":return import("request-list-translations").then((function(e){return e.I}));case"./translations/locales/es-pe.json":return import("request-list-translations").then((function(e){return e.J}));case"./translations/locales/es.json":return import("request-list-translations").then((function(e){return e.K}));case"./translations/locales/et.json":return import("request-list-translations").then((function(e){return e.L}));case"./translations/locales/eu.json":return import("request-list-translations").then((function(e){return e.M}));case"./translations/locales/fa-af.json":return import("request-list-translations").then((function(e){return e.N}));case"./translations/locales/fa.json":return import("request-list-translations").then((function(e){return e.O}));case"./translations/locales/fi.json":return import("request-list-translations").then((function(e){return e.P}));case"./translations/locales/fil.json":return import("request-list-translations").then((function(e){return e.Q}));case"./translations/locales/fo.json":return import("request-list-translations").then((function(e){return e.R}));case"./translations/locales/fr-ca.json":return import("request-list-translations").then((function(e){return e.S}));case"./translations/locales/fr-dz.json":return import("request-list-translations").then((function(e){return e.T}));case"./translations/locales/fr-mu.json":return import("request-list-translations").then((function(e){return e.U}));case"./translations/locales/fr.json":return import("request-list-translations").then((function(e){return e.V}));case"./translations/locales/ga.json":return import("request-list-translations").then((function(e){return e.W}));case"./translations/locales/he.json":return import("request-list-translations").then((function(e){return e.X}));case"./translations/locales/hi.json":return import("request-list-translations").then((function(e){return e.Y}));case"./translations/locales/hr.json":return import("request-list-translations").then((function(e){return e.Z}));case"./translations/locales/hu.json":return import("request-list-translations").then((function(e){return e._}));case"./translations/locales/hy.json":return import("request-list-translations").then((function(e){return e.$}));case"./translations/locales/id.json":return import("request-list-translations").then((function(e){return e.a0}));case"./translations/locales/is.json":return import("request-list-translations").then((function(e){return e.a1}));case"./translations/locales/it-ch.json":return import("request-list-translations").then((function(e){return e.a2}));case"./translations/locales/it.json":return import("request-list-translations").then((function(e){return e.a3}));case"./translations/locales/ja.json":return import("request-list-translations").then((function(e){return e.a4}));case"./translations/locales/ka.json":return import("request-list-translations").then((function(e){return e.a5}));case"./translations/locales/kk.json":return import("request-list-translations").then((function(e){return e.a6}));case"./translations/locales/kl-dk.json":return import("request-list-translations").then((function(e){return e.a7}));case"./translations/locales/km.json":return import("request-list-translations").then((function(e){return e.a8}));case"./translations/locales/ko.json":return import("request-list-translations").then((function(e){return e.a9}));case"./translations/locales/ku.json":return import("request-list-translations").then((function(e){return e.aa}));case"./translations/locales/ky.json":return import("request-list-translations").then((function(e){return e.ab}));case"./translations/locales/lt.json":return import("request-list-translations").then((function(e){return e.ac}));case"./translations/locales/lv.json":return import("request-list-translations").then((function(e){return e.ad}));case"./translations/locales/mk.json":return import("request-list-translations").then((function(e){return e.ae}));case"./translations/locales/mn.json":return import("request-list-translations").then((function(e){return e.af}));case"./translations/locales/ms.json":return import("request-list-translations").then((function(e){return e.ag}));case"./translations/locales/mt.json":return import("request-list-translations").then((function(e){return e.ah}));case"./translations/locales/my.json":return import("request-list-translations").then((function(e){return e.ai}));case"./translations/locales/ne.json":return import("request-list-translations").then((function(e){return e.aj}));case"./translations/locales/nl-be.json":return import("request-list-translations").then((function(e){return e.ak}));case"./translations/locales/nl.json":return import("request-list-translations").then((function(e){return e.al}));case"./translations/locales/no.json":return import("request-list-translations").then((function(e){return e.am}));case"./translations/locales/pl.json":return import("request-list-translations").then((function(e){return e.an}));case"./translations/locales/pt-br.json":return import("request-list-translations").then((function(e){return e.ao}));case"./translations/locales/pt.json":return import("request-list-translations").then((function(e){return e.ap}));case"./translations/locales/ro-md.json":return import("request-list-translations").then((function(e){return e.aq}));case"./translations/locales/ro.json":return import("request-list-translations").then((function(e){return e.ar}));case"./translations/locales/ru.json":return import("request-list-translations").then((function(e){return e.as}));case"./translations/locales/si.json":return import("request-list-translations").then((function(e){return e.at}));case"./translations/locales/sk.json":return import("request-list-translations").then((function(e){return e.au}));case"./translations/locales/sl.json":return import("request-list-translations").then((function(e){return e.av}));case"./translations/locales/sq.json":return import("request-list-translations").then((function(e){return e.aw}));case"./translations/locales/sr-me.json":return import("request-list-translations").then((function(e){return e.ax}));case"./translations/locales/sr.json":return import("request-list-translations").then((function(e){return e.ay}));case"./translations/locales/sv.json":return import("request-list-translations").then((function(e){return e.az}));case"./translations/locales/sw-ke.json":return import("request-list-translations").then((function(e){return e.aA}));case"./translations/locales/ta.json":return import("request-list-translations").then((function(e){return e.aB}));case"./translations/locales/th.json":return import("request-list-translations").then((function(e){return e.aC}));case"./translations/locales/tr.json":return import("request-list-translations").then((function(e){return e.aD}));case"./translations/locales/uk.json":return import("request-list-translations").then((function(e){return e.aE}));case"./translations/locales/ur-pk.json":return import("request-list-translations").then((function(e){return e.aF}));case"./translations/locales/ur.json":return import("request-list-translations").then((function(e){return e.aG}));case"./translations/locales/uz.json":return import("request-list-translations").then((function(e){return e.aH}));case"./translations/locales/vi.json":return import("request-list-translations").then((function(e){return e.aI}));case"./translations/locales/zh-cn.json":return import("request-list-translations").then((function(e){return e.aJ}));case"./translations/locales/zh-tw.json":return import("request-list-translations").then((function(e){return e.aK}));default:return new Promise((function(t,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`./translations/locales/${r}.json`),()=>function(e){switch(e){case"../shared/translations/locales/af.json":return import("shared").then((function(e){return e.aW}));case"../shared/translations/locales/ar-x-pseudo.json":return import("shared").then((function(e){return e.aX}));case"../shared/translations/locales/ar.json":return import("shared").then((function(e){return e.aY}));case"../shared/translations/locales/az.json":return import("shared").then((function(e){return e.aZ}));case"../shared/translations/locales/be.json":return import("shared").then((function(e){return e.a_}));case"../shared/translations/locales/bg.json":return import("shared").then((function(e){return e.a$}));case"../shared/translations/locales/bn.json":return import("shared").then((function(e){return e.b0}));case"../shared/translations/locales/bs.json":return import("shared").then((function(e){return e.b1}));case"../shared/translations/locales/ca.json":return import("shared").then((function(e){return e.b2}));case"../shared/translations/locales/cs.json":return import("shared").then((function(e){return e.b3}));case"../shared/translations/locales/cy.json":return import("shared").then((function(e){return e.b4}));case"../shared/translations/locales/da.json":return import("shared").then((function(e){return e.b5}));case"../shared/translations/locales/de-de.json":return import("shared").then((function(e){return e.b6}));case"../shared/translations/locales/de-x-informal.json":return import("shared").then((function(e){return e.b7}));case"../shared/translations/locales/de.json":return import("shared").then((function(e){return e.b8}));case"../shared/translations/locales/el.json":return import("shared").then((function(e){return e.b9}));case"../shared/translations/locales/en-001.json":return import("shared").then((function(e){return e.ba}));case"../shared/translations/locales/en-150.json":return import("shared").then((function(e){return e.bb}));case"../shared/translations/locales/en-au.json":return import("shared").then((function(e){return e.bc}));case"../shared/translations/locales/en-ca.json":return import("shared").then((function(e){return e.bd}));case"../shared/translations/locales/en-gb.json":return import("shared").then((function(e){return e.be}));case"../shared/translations/locales/en-my.json":return import("shared").then((function(e){return e.bf}));case"../shared/translations/locales/en-ph.json":return import("shared").then((function(e){return e.bg}));case"../shared/translations/locales/en-se.json":return import("shared").then((function(e){return e.bh}));case"../shared/translations/locales/en-us.json":return import("shared").then((function(e){return e.bi}));case"../shared/translations/locales/en-x-dev.json":return import("shared").then((function(e){return e.bj}));case"../shared/translations/locales/en-x-keys.json":return import("shared").then((function(e){return e.bk}));case"../shared/translations/locales/en-x-obsolete.json":return import("shared").then((function(e){return e.bl}));case"../shared/translations/locales/en-x-pseudo.json":return import("shared").then((function(e){return e.bm}));case"../shared/translations/locales/en-x-test.json":return import("shared").then((function(e){return e.bn}));case"../shared/translations/locales/es-419.json":return import("shared").then((function(e){return e.bo}));case"../shared/translations/locales/es-ar.json":return import("shared").then((function(e){return e.bp}));case"../shared/translations/locales/es-cl.json":return import("shared").then((function(e){return e.bq}));case"../shared/translations/locales/es-es.json":return import("shared").then((function(e){return e.br}));case"../shared/translations/locales/es-mx.json":return import("shared").then((function(e){return e.bs}));case"../shared/translations/locales/es-pe.json":return import("shared").then((function(e){return e.bt}));case"../shared/translations/locales/es.json":return import("shared").then((function(e){return e.bu}));case"../shared/translations/locales/et.json":return import("shared").then((function(e){return e.bv}));case"../shared/translations/locales/eu.json":return import("shared").then((function(e){return e.bw}));case"../shared/translations/locales/fa-af.json":return import("shared").then((function(e){return e.bx}));case"../shared/translations/locales/fa.json":return import("shared").then((function(e){return e.by}));case"../shared/translations/locales/fi.json":return import("shared").then((function(e){return e.bz}));case"../shared/translations/locales/fil.json":return import("shared").then((function(e){return e.bA}));case"../shared/translations/locales/fo.json":return import("shared").then((function(e){return e.bB}));case"../shared/translations/locales/fr-ca.json":return import("shared").then((function(e){return e.bC}));case"../shared/translations/locales/fr-dz.json":return import("shared").then((function(e){return e.bD}));case"../shared/translations/locales/fr-mu.json":return import("shared").then((function(e){return e.bE}));case"../shared/translations/locales/fr.json":return import("shared").then((function(e){return e.bF}));case"../shared/translations/locales/ga.json":return import("shared").then((function(e){return e.bG}));case"../shared/translations/locales/he.json":return import("shared").then((function(e){return e.bH}));case"../shared/translations/locales/hi.json":return import("shared").then((function(e){return e.bI}));case"../shared/translations/locales/hr.json":return import("shared").then((function(e){return e.bJ}));case"../shared/translations/locales/hu.json":return import("shared").then((function(e){return e.bK}));case"../shared/translations/locales/hy.json":return import("shared").then((function(e){return e.bL}));case"../shared/translations/locales/id.json":return import("shared").then((function(e){return e.bM}));case"../shared/translations/locales/is.json":return import("shared").then((function(e){return e.bN}));case"../shared/translations/locales/it-ch.json":return import("shared").then((function(e){return e.bO}));case"../shared/translations/locales/it.json":return import("shared").then((function(e){return e.bP}));case"../shared/translations/locales/ja.json":return import("shared").then((function(e){return e.bQ}));case"../shared/translations/locales/ka.json":return import("shared").then((function(e){return e.bR}));case"../shared/translations/locales/kk.json":return import("shared").then((function(e){return e.bS}));case"../shared/translations/locales/kl-dk.json":return import("shared").then((function(e){return e.bT}));case"../shared/translations/locales/km.json":return import("shared").then((function(e){return e.bU}));case"../shared/translations/locales/ko.json":return import("shared").then((function(e){return e.bV}));case"../shared/translations/locales/ku.json":return import("shared").then((function(e){return e.bW}));case"../shared/translations/locales/ky.json":return import("shared").then((function(e){return e.bX}));case"../shared/translations/locales/lt.json":return import("shared").then((function(e){return e.bY}));case"../shared/translations/locales/lv.json":return import("shared").then((function(e){return e.bZ}));case"../shared/translations/locales/mk.json":return import("shared").then((function(e){return e.b_}));case"../shared/translations/locales/mn.json":return import("shared").then((function(e){return e.b$}));case"../shared/translations/locales/ms.json":return import("shared").then((function(e){return e.c0}));case"../shared/translations/locales/mt.json":return import("shared").then((function(e){return e.c1}));case"../shared/translations/locales/my.json":return import("shared").then((function(e){return e.c2}));case"../shared/translations/locales/ne.json":return import("shared").then((function(e){return e.c3}));case"../shared/translations/locales/nl-be.json":return import("shared").then((function(e){return e.c4}));case"../shared/translations/locales/nl.json":return import("shared").then((function(e){return e.c5}));case"../shared/translations/locales/no.json":return import("shared").then((function(e){return e.c6}));case"../shared/translations/locales/pl.json":return import("shared").then((function(e){return e.c7}));case"../shared/translations/locales/pt-br.json":return import("shared").then((function(e){return e.c8}));case"../shared/translations/locales/pt.json":return import("shared").then((function(e){return e.c9}));case"../shared/translations/locales/ro-md.json":return import("shared").then((function(e){return e.ca}));case"../shared/translations/locales/ro.json":return import("shared").then((function(e){return e.cb}));case"../shared/translations/locales/ru.json":return import("shared").then((function(e){return e.cc}));case"../shared/translations/locales/si.json":return import("shared").then((function(e){return e.cd}));case"../shared/translations/locales/sk.json":return import("shared").then((function(e){return e.ce}));case"../shared/translations/locales/sl.json":return import("shared").then((function(e){return e.cf}));case"../shared/translations/locales/sq.json":return import("shared").then((function(e){return e.cg}));case"../shared/translations/locales/sr-me.json":return import("shared").then((function(e){return e.ch}));case"../shared/translations/locales/sr.json":return import("shared").then((function(e){return e.ci}));case"../shared/translations/locales/sv.json":return import("shared").then((function(e){return e.cj}));case"../shared/translations/locales/sw-ke.json":return import("shared").then((function(e){return e.ck}));case"../shared/translations/locales/ta.json":return import("shared").then((function(e){return e.cl}));case"../shared/translations/locales/th.json":return import("shared").then((function(e){return e.cm}));case"../shared/translations/locales/tr.json":return import("shared").then((function(e){return e.cn}));case"../shared/translations/locales/uk.json":return import("shared").then((function(e){return e.co}));case"../shared/translations/locales/ur-pk.json":return import("shared").then((function(e){return e.cp}));case"../shared/translations/locales/ur.json":return import("shared").then((function(e){return e.cq}));case"../shared/translations/locales/uz.json":return import("shared").then((function(e){return e.cr}));case"../shared/translations/locales/vi.json":return import("shared").then((function(e){return e.cs}));case"../shared/translations/locales/zh-cn.json":return import("shared").then((function(e){return e.ct}));case"../shared/translations/locales/zh-tw.json":return import("shared").then((function(e){return e.cu}));default:return new Promise((function(t,s){("function"==typeof queueMicrotask?queueMicrotask:setTimeout)(s.bind(null,new Error("Unknown variable dynamic import: "+e)))}))}}(`../shared/translations/locales/${r}.json`)]);const i=`/hc/${r}`;ee.render(s.jsx(te,{theme:se(e),children:s.jsx(ne,{helpCenterPath:i,children:s.jsx(ps,{locale:r,customStatusesEnabled:a})})}),n)}export{js as renderRequestList};
